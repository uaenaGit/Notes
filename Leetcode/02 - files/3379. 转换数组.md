---
éš¾åº¦: easy
æƒ…å†µ: Y(é€šè¿‡)
æ—¥æœŸ: 2026-02-15 22:50
åˆ†ç±»: æ•°ç»„,æ¨¡æ‹Ÿ
tags:
  - æ¯æ—¥ä¸€é¢˜
å¤‡æ³¨: æŒæ¡è´Ÿæ•°çš„å–ä½™è¿ç®—
created: 2026-02-23T20:45
updated: 2026-02-25T17:28
---

> ğŸ”—[3379 - è½¬æ¢æ•°ç»„ ](https://leetcode.cn/problems/transformed-array/description/?envType=daily-question&envId=2026-02-15)

## ğŸ“Œ é¢˜ç›®æè¿°
>   ï¼ˆè¯·åœ¨æ­¤å¤„ç²˜è´´é¢˜ç›®æè¿°ï¼‰

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¾ªç¯æ•°ç»„ã€‚è¯·ä½ éµå¾ªä»¥ä¸‹è§„åˆ™åˆ›å»ºä¸€ä¸ªå¤§å°Â **ç›¸åŒ**Â çš„æ–°æ•°ç»„Â `result`Â ï¼š

å¯¹äºæ¯ä¸ªä¸‹æ ‡Â `i`ï¼ˆå…¶ä¸­Â `0 <= i < nums.length`ï¼‰ï¼Œç‹¬ç«‹æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- å¦‚æœÂ `nums[i] > 0`ï¼šä»ä¸‹æ ‡Â `i`Â å¼€å§‹ï¼Œå‘Â **å³**Â ç§»åŠ¨Â `nums[i]`Â æ­¥ï¼Œåœ¨å¾ªç¯æ•°ç»„ä¸­è½è„šçš„ä¸‹æ ‡å¯¹åº”çš„å€¼èµ‹ç»™Â `result[i]`ã€‚
- å¦‚æœÂ `nums[i] < 0`ï¼šä»ä¸‹æ ‡Â `i`Â å¼€å§‹ï¼Œå‘Â **å·¦**Â ç§»åŠ¨Â `abs(nums[i])`Â æ­¥ï¼Œåœ¨å¾ªç¯æ•°ç»„ä¸­è½è„šçš„ä¸‹æ ‡å¯¹åº”çš„å€¼èµ‹ç»™Â `result[i]`ã€‚
- å¦‚æœÂ `nums[i] == 0`ï¼šå°†Â `nums[i]`Â çš„å€¼èµ‹ç»™Â `result[i]`ã€‚

è¿”å›æ–°æ•°ç»„Â `result`ã€‚

**æ³¨æ„ï¼š** ç”±äºÂ `nums`Â æ˜¯å¾ªç¯æ•°ç»„ï¼Œå‘å³ç§»åŠ¨è¶…è¿‡æœ€åä¸€ä¸ªå…ƒç´ æ—¶å°†å›åˆ°å¼€å¤´ï¼Œå‘å·¦ç§»åŠ¨è¶…è¿‡ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å°†å›åˆ°æœ«å°¾ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**Â nums = [3,-2,1,1]

**è¾“å‡ºï¼š**Â [1,1,1,3]

**è§£é‡Šï¼š**

- å¯¹äºÂ `nums[0]`Â ç­‰äº 3ï¼Œå‘å³ç§»åŠ¨ 3 æ­¥åˆ°Â `nums[3]`ï¼Œå› æ­¤Â `result[0]`Â ä¸º 1ã€‚
- å¯¹äºÂ `nums[1]`Â ç­‰äº -2ï¼Œå‘å·¦ç§»åŠ¨ 2 æ­¥åˆ°Â `nums[3]`ï¼Œå› æ­¤Â `result[1]`Â ä¸º 1ã€‚
- å¯¹äºÂ `nums[2]`Â ç­‰äº 1ï¼Œå‘å³ç§»åŠ¨ 1 æ­¥åˆ°Â `nums[3]`ï¼Œå› æ­¤Â `result[2]`Â ä¸º 1ã€‚
- å¯¹äºÂ `nums[3]`Â ç­‰äº 1ï¼Œå‘å³ç§»åŠ¨ 1 æ­¥åˆ°Â `nums[0]`ï¼Œå› æ­¤Â `result[3]`Â ä¸º 3ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**Â nums = [-1,4,-1]

**è¾“å‡ºï¼š**Â [-1,-1,4]

**è§£é‡Šï¼š**

- å¯¹äºÂ `nums[0]`Â ç­‰äº -1ï¼Œå‘å·¦ç§»åŠ¨ 1 æ­¥åˆ°Â `nums[2]`ï¼Œå› æ­¤Â `result[0]`Â ä¸º -1ã€‚
- å¯¹äºÂ `nums[1]`Â ç­‰äº 4ï¼Œå‘å³ç§»åŠ¨ 4 æ­¥åˆ°Â `nums[2]`ï¼Œå› æ­¤Â `result[1]`Â ä¸º -1ã€‚
- å¯¹äºÂ `nums[2]`Â ç­‰äº -1ï¼Œå‘å·¦ç§»åŠ¨ 1 æ­¥åˆ°Â `nums[1]`ï¼Œå› æ­¤Â `result[2]`Â ä¸º 4ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `-100 <= nums[i] <= 100`


## ğŸ’¡ è§£é¢˜æ€è·¯ 

æŒ‰ç…§é¢˜æ„æ¨¡æ‹Ÿå³å¯ã€‚


## ğŸ’» ä»£ç å®ç°
>  my answer
```cpp
class Solution {
public:
Â  Â  vector<int> constructTransformedArray(vector<int>& nums) {
Â  Â  Â  Â  int n = nums.size();
Â  Â  Â  Â  vector<int> res(n);
Â  Â  Â  Â  for (int i = 0; i < n; i++) {
Â  Â  Â  Â  Â  Â  int pos = 0;
Â  Â  Â  Â  Â  Â  if (nums[i] > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  pos = (i + nums[i]) % n;
Â  Â  Â  Â  Â  Â  } else if (nums[i] < 0) {
Â  Â  Â  Â  Â  Â  Â  Â  pos = ((i + nums[i]) % n + n) % n;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  pos = i;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  res[i] = nums[pos];
Â  Â  Â  Â  }
Â  Â  Â  Â  return res;
Â  Â  }
};
```

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`


> to optimize
```cpp
class Solution {
public:
    vector<int> constructTransformedArray(vector<int>& nums) {
        int n = nums.size();
        vector<int> result(n);
        for (int i = 0; i < n; i++) {
            result[i] = nums[((i + nums[i]) % n + n) % n]; // ä¿è¯ç»“æœåœ¨ [0,n-1] ä¸­
        }
        return result;
    }
};

ä½œè€…ï¼šçµèŒ¶å±±è‰¾åºœ
é“¾æ¥ï¼šhttps://leetcode.cn/problems/transformed-array/solutions/3013925/jian-ji-xie-fa-pythonjavacgo-by-endlessc-hzyf/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`


>âœ¨ tips 

è´Ÿæ•°ä½¿ç”¨ `%` è¿ç®—ä¸æ˜¯æ•°å­¦æ„ä¹‰ä¸Šçš„æ¨¡è¿ç®—ï¼ˆç»“æœä¸ºéè´Ÿæ•°ï¼‰ï¼Œ$a\%b$ çš„ç»“æœå–å†³äº $a$ çš„ç¬¦å·ã€‚
### âš–ï¸ C++ vs æ•°å­¦æ¨¡è¿ç®— vs Python
| è¡¨è¾¾å¼         | C++ (`%`) | æ•°å­¦æ¨¡è¿ç®—      | Python (`%`) |
| ----------- | --------- | ---------- | ------------ |
| `-7 mod 3`  | `-1`      | `2`        | `2`          |
| `-7 mod -3` | `-1`      | `-1`ï¼ˆæˆ–æœªå®šä¹‰ï¼‰ | `-1`         |
- **æ•°å­¦æ¨¡è¿ç®—**ï¼šç»“æœ âˆˆÂ `[0, |b|)`ï¼ˆå½“Â `b > 0`ï¼‰
- **C++Â `%`**ï¼šç»“æœ âˆˆÂ `(-|b|, |b|)`ï¼Œç¬¦å·åŒÂ `a`
- **PythonÂ `%`**ï¼šç»“æœç¬¦å·åŒÂ `b`ï¼Œæ›´æ¥è¿‘æ•°å­¦æ¨¡

### âœ… å¦‚ä½•åœ¨ C++ ä¸­å®ç°çœŸæ­£çš„â€œæ¨¡è¿ç®—â€ï¼ˆéè´Ÿä½™æ•°ï¼‰ï¼Ÿ
### æ–¹æ³• 1ï¼šé€šç”¨å®‰å…¨å†™æ³•ï¼ˆæ¨èï¼‰
```cpp
int modulo(int a, int n) { 
  int r = a % n; 
  return r >= 0 ? r : r + n; 
}
```

### æ–¹æ³• 2ï¼šä¸€è¡Œå†™æ³•ï¼ˆæ³¨æ„æº¢å‡ºé£é™©ï¼‰
```cpp
int modulo(int a, int n) { 
  return (a % n + n) % n; // è¯¥å‡½æ•°çš„è®¾è®¡åˆè¡·æ˜¯å¤„ç† a < 0 çš„æƒ…å†µ
}
```
#### ğŸ§¨ æº¢å‡ºç¤ºä¾‹ï¼ˆ64 ä½ç³»ç»Ÿï¼‰ï¼š
```cpp
long long n = LLONG_MAX; // 9223372036854775807
long long a = -1;

// a % n = -1
// a % n + n = -1 + 9223372036854775807 = 9223372036854775806 â†’ å®‰å…¨

// ä½†è‹¥ï¼š
long long n2 = 6000000000000000000LL; // 6e18
long long a2 = n2 - 1; // æ­£æ•°

// a2 % n2 = n2 - 1
// (a2 % n2 + n2) = (n2 - 1) + n2 = 2*n2 - 1 â‰ˆ 1.2e19 > LLONG_MAX (â‰ˆ9.2e18)
// â†’ æº¢å‡ºï¼
```
> ğŸ”¸ è¿™å°±æ˜¯â€œå¯èƒ½æº¢å‡ºâ€è¯´æ³•çš„ä¸»è¦æ¥æºâ€”â€”**å½“Â `a â‰¥ 0`Â æ—¶ï¼Œ`a % n`Â å¯èƒ½æ¥è¿‘Â `n`ï¼Œå¯¼è‡´Â `a % n + n â‰ˆ 2n`Â è¶…è¿‡æœ€å¤§å€¼**ã€‚


> others' answer


- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(...)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(...)`

>âœ¨ tips 




## ğŸ” å¤ç›˜ä¸æ‰©å±•
> å…³é”®ç‚¹ï¼š

> æ˜“é”™ç‚¹ï¼š



## ğŸ”— ç›¸å…³é¢˜ç›®




> â±ï¸ æœ¬æ¬¡è€—æ—¶ï¼š__20__ åˆ†é’Ÿ





