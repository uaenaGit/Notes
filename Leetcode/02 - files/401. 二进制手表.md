---
难度: easy
情况: N(不会)
日期: 2026-02-17 23:32
分类: 字符串,枚举
tags:
  - 每日一题
备注: 读懂题意
created: 2026-02-23T20:45
updated: 2026-02-25T17:27
---

> 🔗[401 - 二进制手表 ](https://leetcode.cn/problems/binary-watch/description/?envType=daily-question&envId=2026-02-17)

## 📌 题目描述
>   （请在此处粘贴题目描述）

二进制手表顶部有 4 个 LED 代表 **小时（0-11）**，底部的 6 个 LED 代表 **分钟（0-59）**。每个 LED 代表一个 0 或 1，最低位在右侧。

- 例如，下面的二进制手表读取 `"4:51"` 。

![image.png](https://cdn.jsdelivr.net/gh/uaenaGit/image-host@main//images20260223215905873.png)



给你一个整数 `turnedOn` ，表示当前亮着的 LED 的数量，返回二进制手表可以表示的所有可能时间。你可以 **按任意顺序** 返回答案。

小时不会以零开头：

- 例如，`"01:00"` 是无效的时间，正确的写法应该是 `"1:00"` 。

分钟必须由两位数组成，可能会以零开头：

- 例如，`"10:2"` 是无效的时间，正确的写法应该是 `"10:02"` 。

**示例 1：**

**输入：** turnedOn = 1
**输出：**["0:01","0:02","0:04","0:08","0:16","0:32","1:00","2:00","4:00","8:00"]

**示例 2：**

**输入：** turnedOn = 9
**输出：**[]

**提示：**

- `0 <= turnedOn <= 10`


## 💡 解题思路 

读懂题意。。。
如图，顶行对应二进制亮灯 `bit` 位是`0100`，底行对应二进制亮灯比特位是 `110011`。所以读作`4:51`。
所以只要找出小时（$0 \sim 11$）和分钟（$0\sim59$）中 `1`的个数，若之和等于亮灯数，则计入答案。但是注意若分钟只有个位得**添0** 。


## 💻 代码实现
>  my answer
```cpp
class Solution {
public:
    vector<string> readBinaryWatch(int turnedOn) {
        vector<string> ans;
        for (int h = 0; h < 12; h++) {
            for (int m = 0; m < 60; m++) {
                if (__builtin_popcount(h) + __builtin_popcount(m)
                    == turnedOn) {
                    ans.push_back(to_string(h) + ":" + (m < 10 ? "0" : "") + to_string(m));
                }
            }
        }
        return ans;
    }
};
```

- **时间复杂度**：`O(1)`。枚举的次数是与输入无关的定值。
- **空间复杂度**：`O(1)`。


> to optimize


- **时间复杂度**：`O(...)`
- **空间复杂度**：`O(...)`

> ✨tips


> others' answer
```cpp
class Solution {
public:
    vector<string> readBinaryWatch(int turnedOn) {
        vector<string> ans;
        char s[6];
        for (uint8_t h = 0; h < 12; h++) {
            for (uint8_t m = 0; m < 60; m++) {
                if (popcount(h) + popcount(m) == turnedOn) {
                    sprintf(s, "%d:%02d", h, m); // 有缓冲区溢出的风险
                    // snprintf(s, sizeof(s), "%d:%02d", h, m);
                    ans.emplace_back(s);
                }
            }
        }
        return ans;
    }
};

作者：灵茶山艾府
链接：https://leetcode.cn/problems/binary-watch/solutions/3903844/jian-dan-ti-jian-dan-zuo-pythonjavacgo-b-31zw/
来源：力扣（LeetCode）
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
```

- **时间复杂度**：`O(1)`
- **空间复杂度**：`O(1)`

>✨ tips
### 👉__builtin_popcount

[[__builtin_popcount]] 函数介绍。

### 👉snprintf
[[snprintf]] 函数介绍

`snprintf` 是 **C 标准库**中的格式化输出函数，是 `sprintf` 的**安全版本**，用于将格式化数据写入字符串缓冲区，并**防止缓冲区溢出**。
```c
#include <stdio.h> 

int snprintf(char *str, size_t size, const char *format, ...);
```
- **函数原型**

| 参数       | 类型             | 说明              |
| -------- | -------------- | --------------- |
| `str`    | `char *`       | 目标字符数组指针        |
| `size`   | `size_t`       | 缓冲区总大小（包括 `\0`） |
| `format` | `const char *` | 格式字符串           |
| `...`    | 可变参数           | 与格式说明符对应的值      |
- **返回值**

|情况|返回值|说明|
|---|---|---|
|成功（未截断）|写入的字符数（不含 `\0`）|返回值 < `size`|
|成功（被截断）|完整输出所需的字符数|返回值 ≥ `size`|
|失败|负值|编码错误等|
- **常用格式说明符**

| 格式符         | 说明       | 示例          |
| ----------- | -------- | ----------- |
| `%d`        | 十进制整数    | `42`        |
| `%u`        | 无符号整数    | `42`        |
| `%x` / `%X` | 十六进制     | `2a` / `2A` |
| `%f`        | 浮点数      | `3.14`      |
| `%s`        | **字符串**  | `"hello"`   |
| `%c`        | 字符       | `'A'`       |
| `%p`        | 指针地址     | `0x7fff...` |
| `%%`        | **百分号**  | `%`         |
| `%02d`      | **补零整数** | `05`        |
| `%.2f`      | 保留小数     | `3.14`      |
- **实际应用实例**
1. 生成文件名
```c
char filename[256]; 
snprintf(filename, sizeof(filename), "data_%03d.txt", file_id); 
// 结果: data_001.txt
```
2. 构建日志消息
```c
char log_msg[512]; 
snprintf(log_msg, sizeof(log_msg), "[ERROR] Code: %d, Message: %s", error_code, error_msg);
```

### ⚠️ans.push_back(s)
`std::string` 有接受 `const char*` 的构造函数，`char[]` 会**隐式转换**为 `const char*`。


## 🔁 复盘与扩展
> 关键点：
+ 理解题意
> 易错点：
+ 当分钟小于 $10$ 时，**前添** $0$。


## 🔗 相关题目




> ⏱️ 本次耗时：___30___ 分钟





