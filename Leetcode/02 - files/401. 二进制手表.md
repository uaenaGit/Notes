---
éš¾åº¦: easy
æƒ…å†µ: N(ä¸ä¼š)
æ—¥æœŸ: 2026-02-17 23:32
åˆ†ç±»: å­—ç¬¦ä¸²,æšä¸¾
tags:
  - æ¯æ—¥ä¸€é¢˜
å¤‡æ³¨: è¯»æ‡‚é¢˜æ„
---

> ğŸ”—[401 - äºŒè¿›åˆ¶æ‰‹è¡¨ ](https://leetcode.cn/problems/binary-watch/description/?envType=daily-question&envId=2026-02-17)

## ğŸ“Œ é¢˜ç›®æè¿°
>   ï¼ˆè¯·åœ¨æ­¤å¤„ç²˜è´´é¢˜ç›®æè¿°ï¼‰

äºŒè¿›åˆ¶æ‰‹è¡¨é¡¶éƒ¨æœ‰ 4 ä¸ª LED ä»£è¡¨Â **å°æ—¶ï¼ˆ0-11ï¼‰**ï¼Œåº•éƒ¨çš„ 6 ä¸ª LED ä»£è¡¨Â **åˆ†é’Ÿï¼ˆ0-59ï¼‰**ã€‚æ¯ä¸ª LED ä»£è¡¨ä¸€ä¸ª 0 æˆ– 1ï¼Œæœ€ä½ä½åœ¨å³ä¾§ã€‚

- ä¾‹å¦‚ï¼Œä¸‹é¢çš„äºŒè¿›åˆ¶æ‰‹è¡¨è¯»å–Â `"4:51"`Â ã€‚

![image.png](https://cdn.jsdelivr.net/gh/uaenaGit/image-host@main//images20260223215905873.png)



ç»™ä½ ä¸€ä¸ªæ•´æ•°Â `turnedOn`Â ï¼Œè¡¨ç¤ºå½“å‰äº®ç€çš„ LED çš„æ•°é‡ï¼Œè¿”å›äºŒè¿›åˆ¶æ‰‹è¡¨å¯ä»¥è¡¨ç¤ºçš„æ‰€æœ‰å¯èƒ½æ—¶é—´ã€‚ä½ å¯ä»¥Â **æŒ‰ä»»æ„é¡ºåº**Â è¿”å›ç­”æ¡ˆã€‚

å°æ—¶ä¸ä¼šä»¥é›¶å¼€å¤´ï¼š

- ä¾‹å¦‚ï¼Œ`"01:00"`Â æ˜¯æ— æ•ˆçš„æ—¶é—´ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯Â `"1:00"`Â ã€‚

åˆ†é’Ÿå¿…é¡»ç”±ä¸¤ä½æ•°ç»„æˆï¼Œå¯èƒ½ä¼šä»¥é›¶å¼€å¤´ï¼š

- ä¾‹å¦‚ï¼Œ`"10:2"`Â æ˜¯æ— æ•ˆçš„æ—¶é—´ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯Â `"10:02"`Â ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** turnedOn = 1
**è¾“å‡ºï¼š**["0:01","0:02","0:04","0:08","0:16","0:32","1:00","2:00","4:00","8:00"]

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** turnedOn = 9
**è¾“å‡ºï¼š**[]

**æç¤ºï¼š**

- `0 <= turnedOn <= 10`


## ğŸ’¡ è§£é¢˜æ€è·¯ 

è¯»æ‡‚é¢˜æ„ã€‚ã€‚ã€‚
å¦‚å›¾ï¼Œé¡¶è¡Œå¯¹åº”äºŒè¿›åˆ¶äº®ç¯ `bit` ä½æ˜¯`0100`ï¼Œåº•è¡Œå¯¹åº”äºŒè¿›åˆ¶äº®ç¯æ¯”ç‰¹ä½æ˜¯ `110011`ã€‚æ‰€ä»¥è¯»ä½œ`4:51`ã€‚
æ‰€ä»¥åªè¦æ‰¾å‡ºå°æ—¶ï¼ˆ$0 \sim 11$ï¼‰å’Œåˆ†é’Ÿï¼ˆ$0\sim59$ï¼‰ä¸­ `1`çš„ä¸ªæ•°ï¼Œè‹¥ä¹‹å’Œç­‰äºäº®ç¯æ•°ï¼Œåˆ™è®¡å…¥ç­”æ¡ˆã€‚ä½†æ˜¯æ³¨æ„è‹¥åˆ†é’Ÿåªæœ‰ä¸ªä½å¾—**æ·»0** ã€‚


## ğŸ’» ä»£ç å®ç°
>  my answer
```cpp
class Solution {
public:
Â  Â  vector<string> readBinaryWatch(int turnedOn) {
Â  Â  Â  Â  vector<string> ans;
Â  Â  Â  Â  for (int h = 0; h < 12; h++) {
Â  Â  Â  Â  Â  Â  for (int m = 0; m < 60; m++) {
Â  Â  Â  Â  Â  Â  Â  Â  if (__builtin_popcount(h) + __builtin_popcount(m)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  == turnedOn) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ans.push_back(to_string(h) + ":" + (m < 10 ? "0" : "") + to_string(m));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  return ans;
Â  Â  }
};
```

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚æšä¸¾çš„æ¬¡æ•°æ˜¯ä¸è¾“å…¥æ— å…³çš„å®šå€¼ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚


> to optimize


- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(...)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(...)`

> tips


> others' answer
```cpp
class Solution {
public:
    vector<string> readBinaryWatch(int turnedOn) {
        vector<string> ans;
        char s[6];
        for (uint8_t h = 0; h < 12; h++) {
            for (uint8_t m = 0; m < 60; m++) {
                if (popcount(h) + popcount(m) == turnedOn) {
                    sprintf(s, "%d:%02d", h, m); // æœ‰ç¼“å†²åŒºæº¢å‡ºçš„é£é™©
                    // snprintf(s, sizeof(s), "%d:%02d", h, m);
                    ans.emplace_back(s);
                }
            }
        }
        return ans;
    }
};

ä½œè€…ï¼šçµèŒ¶å±±è‰¾åºœ
é“¾æ¥ï¼šhttps://leetcode.cn/problems/binary-watch/solutions/3903844/jian-dan-ti-jian-dan-zuo-pythonjavacgo-b-31zw/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`

> tips
### ğŸ‘‰__builtin_popcount

`__builtin_popcount`Â æ˜¯Â GCC å’Œ Clang ç¼–è¯‘å™¨æä¾›çš„å†…ç½®å‡½æ•°ï¼Œç”¨äºè®¡ç®—**æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°** ï¼ˆæ±‰æ˜é‡é‡/Hamming Weightï¼‰ã€‚
- **å‡½æ•°åŸå‹**

| å‡½æ•°                     | å‚æ•°ç±»å‹                 | è¿”å›å€¼   | è¯´æ˜      |
| ---------------------- | -------------------- | ----- | ------- |
| `__builtin_popcount`   | `unsigned int`       | `int` | 32ä½æ•´æ•°   |
| `__builtin_popcountl`  | `unsigned long`      | `int` | long ç±»å‹ |
| `__builtin_popcountll` | `unsigned long long` | `int` | 64ä½æ•´æ•°   |
```c
// çº¯Cæ‰‹åŠ¨å®ç°ï¼ˆBrian Kernighanç®—æ³•ï¼‰
int popcount(unsigned int x) {
Â  Â  int count = 0;
Â  Â  while (x) {
Â  Â  Â  Â  x &= (x - 1);
		count++;
Â  Â  }
Â  Â  return count;
}
```
#### C++20 æ ‡å‡†æ›¿ä»£

C++20 å¼•å…¥äº†æ ‡å‡†åº“å‡½æ•°ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨ï¼š
```cpp
#include <bit>
int count = std::popcount(x); // C++20 æ ‡å‡†ï¼Œè·¨å¹³å°
```

### ğŸ‘‰snprintf
`snprintf`Â æ˜¯Â **C æ ‡å‡†åº“**ä¸­çš„æ ¼å¼åŒ–è¾“å‡ºå‡½æ•°ï¼Œæ˜¯Â `sprintf`Â çš„**å®‰å…¨ç‰ˆæœ¬**ï¼Œç”¨äºå°†æ ¼å¼åŒ–æ•°æ®å†™å…¥å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œå¹¶**é˜²æ­¢ç¼“å†²åŒºæº¢å‡º**ã€‚
```c
#include <stdio.h> 

int snprintf(char *str, size_t size, const char *format, ...);
```
- **å‡½æ•°åŸå‹**

| å‚æ•°       | ç±»å‹             | è¯´æ˜              |
| -------- | -------------- | --------------- |
| `str`    | `char *`       | ç›®æ ‡å­—ç¬¦æ•°ç»„æŒ‡é’ˆ        |
| `size`   | `size_t`       | ç¼“å†²åŒºæ€»å¤§å°ï¼ˆåŒ…æ‹¬ `\0`ï¼‰ |
| `format` | `const char *` | æ ¼å¼å­—ç¬¦ä¸²           |
| `...`    | å¯å˜å‚æ•°           | ä¸æ ¼å¼è¯´æ˜ç¬¦å¯¹åº”çš„å€¼      |
- **è¿”å›å€¼**

|æƒ…å†µ|è¿”å›å€¼|è¯´æ˜|
|---|---|---|
|æˆåŠŸï¼ˆæœªæˆªæ–­ï¼‰|å†™å…¥çš„å­—ç¬¦æ•°ï¼ˆä¸å« `\0`ï¼‰|è¿”å›å€¼ < `size`|
|æˆåŠŸï¼ˆè¢«æˆªæ–­ï¼‰|å®Œæ•´è¾“å‡ºæ‰€éœ€çš„å­—ç¬¦æ•°|è¿”å›å€¼ â‰¥ `size`|
|å¤±è´¥|è´Ÿå€¼|ç¼–ç é”™è¯¯ç­‰|
- **å¸¸ç”¨æ ¼å¼è¯´æ˜ç¬¦**

| æ ¼å¼ç¬¦         | è¯´æ˜       | ç¤ºä¾‹          |
| ----------- | -------- | ----------- |
| `%d`        | åè¿›åˆ¶æ•´æ•°    | `42`        |
| `%u`        | æ— ç¬¦å·æ•´æ•°    | `42`        |
| `%x` / `%X` | åå…­è¿›åˆ¶     | `2a` / `2A` |
| `%f`        | æµ®ç‚¹æ•°      | `3.14`      |
| `%s`        | **å­—ç¬¦ä¸²**  | `"hello"`   |
| `%c`        | å­—ç¬¦       | `'A'`       |
| `%p`        | æŒ‡é’ˆåœ°å€     | `0x7fff...` |
| `%%`        | **ç™¾åˆ†å·**  | `%`         |
| `%02d`      | **è¡¥é›¶æ•´æ•°** | `05`        |
| `%.2f`      | ä¿ç•™å°æ•°     | `3.14`      |
- **å®é™…åº”ç”¨å®ä¾‹**
1. ç”Ÿæˆæ–‡ä»¶å
```c
char filename[256]; 
snprintf(filename, sizeof(filename), "data_%03d.txt", file_id); 
// ç»“æœ: data_001.txt
```
2. æ„å»ºæ—¥å¿—æ¶ˆæ¯
```c
char log_msg[512]; 
snprintf(log_msg, sizeof(log_msg), "[ERROR] Code: %d, Message: %s", error_code, error_msg);
```

### âš ï¸ans.push_back(s)
`std::string`Â æœ‰æ¥å—Â `const char*`Â çš„æ„é€ å‡½æ•°ï¼Œ`char[]`Â ä¼š**éšå¼è½¬æ¢**ä¸ºÂ `const char*`ã€‚


## ğŸ” å¤ç›˜ä¸æ‰©å±•
> å…³é”®ç‚¹ï¼š
+ ç†è§£é¢˜æ„
> æ˜“é”™ç‚¹ï¼š
+ å½“åˆ†é’Ÿå°äº $10$ æ—¶ï¼Œ**å‰æ·»** $0$ã€‚


## ğŸ”— ç›¸å…³é¢˜ç›®




> â±ï¸ æœ¬æ¬¡è€—æ—¶ï¼š___30___ åˆ†é’Ÿ





