---
éš¾åº¦: medium
æƒ…å†µ: Y(é€šè¿‡)
æ—¥æœŸ: 2026-02-27 10:39
åˆ†ç±»: åŒæŒ‡é’ˆ, æ•°ç»„
tags:
  - é¢è¯•ç»å…¸150é¢˜
å¤‡æ³¨: reverse å®ç°
created: 2026-02-27T10:39
updated: 2026-02-27T11:09
---

> ğŸ”—[189 - è½®è½¬æ•°ç»„](https://leetcode.cn/problems/rotate-array/description/?envType=study-plan-v2&envId=top-interview-150)

## ğŸ“Œ é¢˜ç›®æè¿°
> ï¼ˆè¯·åœ¨æ­¤å¤„ç²˜è´´é¢˜ç›®æè¿°ï¼‰

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬Â `k`Â ä¸ªä½ç½®ï¼Œå…¶ä¸­Â `k`Â æ˜¯éè´Ÿæ•°ã€‚

**ç¤ºä¾‹ 1:**

**è¾“å…¥:** nums = [1,2,3,4,5,6,7], k = 3
**è¾“å‡º:** `[5,6,7,1,2,3,4]`
**è§£é‡Š:**
å‘å³è½®è½¬ 1 æ­¥: `[7,1,2,3,4,5,6]`
å‘å³è½®è½¬ 2 æ­¥: `[6,7,1,2,3,4,5]`
å‘å³è½®è½¬ 3 æ­¥: `[5,6,7,1,2,3,4]`

**ç¤ºä¾‹Â 2:**

**è¾“å…¥ï¼š** nums = [-1,-100,3,99], k = 2
**è¾“å‡ºï¼š**[3,99,-1,-100]
**è§£é‡Š:** 
å‘å³è½®è½¬ 1 æ­¥: [99,-1,-100,3]
å‘å³è½®è½¬ 2 æ­¥: [3,99,-1,-100]

**æç¤ºï¼š**

- `1 <= nums.length <= 105`
- `-231 <= nums[i] <= 231 - 1`
- `0 <= k <= 105`

**è¿›é˜¶ï¼š**

- å°½å¯èƒ½æƒ³å‡ºæ›´å¤šçš„è§£å†³æ–¹æ¡ˆï¼Œè‡³å°‘æœ‰Â **ä¸‰ç§**Â ä¸åŒçš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
- ä½ å¯ä»¥ä½¿ç”¨ç©ºé—´å¤æ‚åº¦ä¸ºÂ `O(1)`Â çš„Â **åŸåœ°**Â ç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ

## ğŸ’¡ è§£é¢˜æ€è·¯ 
è§£æ³•ä¸€ï¼šä½¿ç”¨é¢å¤–æ•°ç»„ï¼Œè®¡ç®—å¥½è½®è½¬åçš„ä¸‹æ ‡åï¼Œå°†å…ƒç´ å¤åˆ¶åˆ°é¢å¤–æ•°ç»„ï¼Œæœ€åå†å¤åˆ¶åˆ°åŸæ•°ç»„ã€‚ç©ºé—´å¤æ‚åº¦ä¸º $O(n)$
è§£æ³•äºŒï¼šåŸåœ°é€†è½¬
å‡è®¾ `nums = A + B`ï¼Œå…¶ä¸­ `A` æ˜¯`nums`çš„å‰ $n-k$ ä¸ªæ•°ï¼Œ`B` æ˜¯å `k` ä¸ªæ•°ï¼› é¦–å…ˆï¼Œ$reverse$ æ•´ä¸ª `nums` å˜æˆ `reverse(B) + reverse(A)`ï¼Œå†å•ç‹¬ `reverse(B)` å’Œ `reverse(A)`ï¼›ç»“æœå˜æˆ`reverse(reverse(B)) + reverse(reverse(A))`ï¼Œä¹Ÿå³æ˜¯`B + A`ã€‚
æ³¨æ„è‹¥ $k$ å¤§äºæ•°ç»„å…ƒç´ ä¸ªæ•° $n$ ï¼Œåˆ™å…ˆå°† $k \% n$ã€‚å› ä¸ºå‘å³è½®è½¬ $n$ ä¸ªå…ƒç´ æ•°ç»„ä¿æŒåŸçŠ¶ã€‚

## ğŸ’» ä»£ç å®ç°
> my answer
```cpp
è§£æ³•ä¸€ï¼š
class Solution {
public:
    void rotate(vector<int>& nums, int k) {
        int n = nums.size();
        vector<int> tmp;
        tmp.resize(n); // å…ˆåˆ†é… n ä¸ªå•å…ƒ
        k %= n;
        for (int i = 0; i < n; i++) {
            int pos = (i + k) % n;
            tmp[pos] = nums[i];
        }
        copy(tmp.begin(), tmp.end(), nums.begin());
    }
};

è§£æ³•äºŒï¼š
class Solution {
public:
    void reverse(vector<int>& nums, int l ,int r) {
        if (l >= r) return;
        for (int i = l, j = r; i <= l + (r - l) / 2; i++, j--) {
            swap(nums[i], nums[j]);
        }
    }
    void rotate(vector<int>& nums, int k) {
        int n = nums.size();
        if (n == 0) return;
        k %= n; // å‘å³è½®è½¬ n ä¸ªå…ƒç´ å æ•°ç»„ä¿æŒä¸å˜
        reverse(nums, 0, n - 1);
        reverse(nums, 0, k - 1);
        reverse(nums, k, n - 1);
    }
};
```
- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ã€‚$n$ ä¸ºæ•°ç»„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1) æˆ– O(n)`ã€‚åŸåœ°æ—‹è½¬æ˜¯ $O(1)$ï¼Œè¾…åŠ©æ•°ç»„æ˜¯ $O(n)$ã€‚

> to optimize

ç›´æ¥ä½¿ç”¨`<algorithm>`åº“ä¸­çš„`reverse`æ–¹æ³•ã€‚
```cpp
class Solution {
public:
    void rotate(vector<int>& nums, int k) {
        int n = nums.size();
        k %= n;
        reverse(nums.begin(), nums.end());
        reverse(nums.begin(), nums.begin() + k);
        reverse(nums.begin() + k, nums.end());
    }
};
```
- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚

>âœ¨ tips
- 


> others' answer

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(...)`
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(...)`

>âœ¨ tips

## ğŸ” å¤ç›˜ä¸æ‰©å±•
> å…³é”®ç‚¹ï¼š
- `reverse` æ‰‹åŠ¨å®ç°ã€‚
> æ˜“é”™ç‚¹ï¼š
- å½“ `k > n` æ—¶ï¼Œé¢„å¤„ç† `k % n`
## ğŸ”— ç›¸å…³é¢˜ç›®

> â±ï¸ æœ¬æ¬¡è€—æ—¶ï¼š__30__ åˆ†é’Ÿ
